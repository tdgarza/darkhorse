<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="./09-MetodosNumericos02.css">
    <title>Document</title>
</head>
<body>

<div class="container">
        <div class="top"> <h1>Metodo de la Falsa Posicion</h1></div>
        <div class="info">    
        <p>Ésta es la fórmula de la falsa posición. El valor de xr calculado con la ecuación (5.7), 
        reemplazará, después, a cualquiera de los dos valores iniciales, xl o xu, y da un valor de 
        la función con el mismo signo de f(xr). De esta manera, los valores xl y xu siempre encierran 
        la verdadera raíz. El proceso se repite hasta que la aproximación a la raíz sea adecuada. 
        El algoritmo es idéntico al de la bisección (figura 5.5), excepto en que la ecuación (5.7).
        </p></div>
<div class="imagen"><img src="./Falsaposicion.png" style="height: 300px;" alt="grafica de la falsa posicion"><br></div>
        
<div class="datos">
<h3>Formula de la falsa Posicion</h3>
<img src="./formula2.png" alt="Falsa Posicion formula">          
<table>
    <tr>
    <th>Concepto</th>
    <th>Valor</th>
    </tr>
<td>Valor inicial inferior (xl): </td>
    <td><input id="xl" size="5"><br> </td> 
</tr>
<tr>
    <td>Valor inicial superior (xu): </td>
    <td><input id="xu" size="5"><br></td>
    </tr>
</tr>
</table><br>
<button type="button" onclick="falsa()">Procesar</button>
      </div>

<div class="resultado">
<p style="background-color: #f8cdda; color: #f1f1f1; font-weight: bold; color: black; font-size:20px" 
id="sumando">Resultado: </p>  
 <script>
    function falsa(a,b){
        
        let xl = document.getElementById("xl").value;
        let xu = document.getElementById("xu").value;
        console.log(xl);
        console.log(xu);

        var body = document.getElementsByTagName("body")[0];
        var tabla   = document.createElement("table");
        var thead = document.createElement("thead");
        var tblBody = document.createElement("tbody");
        var hilera = document.createElement("tr");
        var titols = ["1","2","3","4"];
        
        for(let i=0;i<10;i++){
            let fxl=Math.pow(xl, 10)-1;
            let fxu=Math.pow(xu, 10)-1;
            let xr=xu-((fxu*(xl-xu))/(fxl-fxu));
            let fxr=Math.pow(xr, 10)-1;

            console.log("Fxl: " +"i: "+i +" xl: "+fxl);
            console.log("Fxu: " +"i: "+i +" xu: "+fxu);
            console.log("xr: " +"i: "+i +" xl: "+xr);

 if(fxl*fxr<0){
    /* Si f(xl)f(xr) < 0, entonces la raíz se encuentra dentro del subintervalo inferior o izquierdo. 
    Por lo tanto, haga xu = xr y vuelva al paso 2.*/
    xu=xr;
    console.log("Primer if porque es negativo" +xr)
   }
if(fxl*fxr>0){
    /*Si f(xl)f(xr) > 0, entonces la raíz se encuentra dentro del subintervalo superior o derecho. 
    Por lo tanto, haga xl = xr y vuelva al paso 2 */
    xl=xr;
    console.log("Segundo if porque es positivo" +xr)
   }
if(fxl==fxr){
    /*Si f(xl)f(xr) = 0, la raíz es igual a xr; termina el cálculo.*/
    console.log("Tercer if")
    }

    var hilera = document.createElement("tr");


for (var j = 0; j < 1; j++) {
var celda = document.createElement("td");
var textoCelda = document.createTextNode("El valor de Xl: "+xl);
celda.appendChild(textoCelda);
hilera.appendChild(celda);

for (var k = 0; k < 1; k++) {
var celda = document.createElement("td");
var textoCelda = document.createTextNode("El valor de Xu: "+xu);
celda.appendChild(textoCelda);
hilera.appendChild(celda);

for (var l = 0; l < 1; l++) {
var celda = document.createElement("td");
var textoCelda = document.createTextNode("El valor de Xr: "+xr);
celda.appendChild(textoCelda);
hilera.appendChild(celda);

for (var k = 0; k < 1; k++) {
var celda = document.createElement("td");
var textoCelda = document.createTextNode("El valor de Fxr: "+fxr);
celda.appendChild(textoCelda);
hilera.appendChild(celda);

}
}
}
tblBody.appendChild(hilera);
}
let text=xr;
document.getElementById("sumando").innerHTML = text;
}

tabla.appendChild(tblBody);
body.appendChild(tabla);
tabla.setAttribute("border", "1");
    }
   </script>
   </div>
</body>
</html>